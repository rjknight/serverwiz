<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project>
	<property name="one-jar.dist.dir" value="c:/one-jar"/> 
	<property name="plugin.dir" value="C:\Program Files (x86)\eclipse.luna\eclipse\plugins"/>
	<import file="${one-jar.dist.dir}/one-jar-ant-task.xml" optional="true" /> 
    <path id="classpath">
        <fileset dir="lib" includes="**/*.jar"/>
    	<fileset dir="C:\Program Files (x86)\eclipse.luna\eclipse\plugins" includes="**/*.jar"/>
    </path>
	  <target name="clean">
	        <delete dir="build"/>
	    </target>

	    <target name="compile">
	        <mkdir dir="build/classes"/>
	    	<javac srcdir="src" destdir="build/classes" classpathref="classpath"/>
	    </target>

	    <target name="jar">
	        <mkdir dir="build/serverwiz2"/>
	        <one-jar destfile="build/serverwiz2/serverwiz2_win64.jar" onejarmainclass="com.ibm.ServerWizard2.ServerWizard2">
	        	<main>
	        		<fileset dir="build/classes"/>
	        	</main>
	        	<lib>
	        		<fileset file="lib/swt_win64.jar"/>
	        		<fileset file="${plugin.dir}/org.eclipse.jface_3.10.1.v20140813-1009.jar"/>
	        		<fileset file="${plugin.dir}/org.eclipse.core.runtime_3.10.0.v20140318-2214.jar"/>
	        		<fileset file="${plugin.dir}/org.eclipse.core.commands_3.6.100.v20140528-1422.jar"/>
	        		<fileset file="${plugin.dir}/org.eclipse.equinox.common_3.6.200.v20130402-1505.jar"/>	        		
	        	</lib>
	        </one-jar>
		    <one-jar destfile="build/serverwiz2/serverwiz2_linux64.jar" onejarmainclass="com.ibm.ServerWizard2.ServerWizard2">
		        	<main>
		        		<fileset dir="build/classes"/>
		        	</main>
		        	<lib>
		        		<fileset file="lib/swt_linux64.jar"/>
			        	<fileset file="${plugin.dir}/org.eclipse.jface_3.10.1.v20140813-1009.jar"/>
			        	<fileset file="${plugin.dir}/org.eclipse.core.runtime_3.10.0.v20140318-2214.jar"/>
			        	<fileset file="${plugin.dir}/org.eclipse.core.commands_3.6.100.v20140528-1422.jar"/>
			        	<fileset file="${plugin.dir}/org.eclipse.equinox.common_3.6.200.v20130402-1505.jar"/>	        		
		        	</lib>
		    </one-jar>
	        <one-jar destfile="build/serverwiz2/serverwiz2_win32.jar" onejarmainclass="com.ibm.ServerWizard2.ServerWizard2">
	        	<main>
	        		<fileset dir="build/classes"/>
	        	</main>
	        	<lib>
	        		<fileset file="lib/swt_win32.jar"/>
		        	<fileset file="${plugin.dir}/org.eclipse.jface_3.10.1.v20140813-1009.jar"/>
		        	<fileset file="${plugin.dir}/org.eclipse.core.runtime_3.10.0.v20140318-2214.jar"/>
		        	<fileset file="${plugin.dir}/org.eclipse.core.commands_3.6.100.v20140528-1422.jar"/>
		        	<fileset file="${plugin.dir}/org.eclipse.equinox.common_3.6.200.v20130402-1505.jar"/>	        		
	        	</lib>
	        </one-jar>	    	
	    </target>
</project>
